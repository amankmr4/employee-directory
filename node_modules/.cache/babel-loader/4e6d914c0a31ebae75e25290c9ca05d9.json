{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _classCallCheck from\"C:/Users/amank/homwork/employee-directory/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/amank/homwork/employee-directory/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/amank/homwork/employee-directory/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/amank/homwork/employee-directory/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";/* eslint-disable no-undef */import React,{Component}from\"react\";import Title from\"../Title\";import SearchBar from\"../SearchBar\";import ResultsTable from\"../ResultsTable\";import API from\"../../utils/API\";var MainPage=/*#__PURE__*/function(_Component){_inherits(MainPage,_Component);var _super=_createSuper(MainPage);function MainPage(){var _this;_classCallCheck(this,MainPage);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={search:\"\",results:[],sorted:true};_this.handleInput=function(e){_this.setState({search:e.target.value});console.log(_this.state.results);};_this.handleSort=function(){if(_this.state.sorted===true){_this.setState({sorted:false});var ascending=_this.state.results.sort(function(a,b){return a.name.first+a.name.last>b.name.first+b.name.last?1:-1;});_this.setState({results:ascending});}else{_this.setState({sorted:true});var descending=_this.state.results.sort(function(a,b){return a.name.first+a.name.last>b.name.first+b.name.last?-1:1;});_this.setState({results:descending});}};return _this;}_createClass(MainPage,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;API.search().then(function(res){return _this2.setState({results:res.data.results});}).catch(function(err){return console.log(err);});}},{key:\"render\",value:function render(){var _this3=this;var filteredList=this.state.results.filter(function(item){var values=item.name.first+item.name.last;values=values.toLowerCase();return values.indexOf(_this3.state.search.toLowerCase())!==-1;});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Title,{}),/*#__PURE__*/_jsx(SearchBar,{handleInput:this.handleInput}),/*#__PURE__*/_jsx(ResultsTable,{results:filteredList,sorted:this.state.sorted,handleSort:this.handleSort})]});}}]);return MainPage;}(Component);export default MainPage;","map":{"version":3,"sources":["C:/Users/amank/homwork/employee-directory/src/components/MainPage/index.js"],"names":["React","Component","Title","SearchBar","ResultsTable","API","MainPage","state","search","results","sorted","handleInput","e","setState","target","value","console","log","handleSort","ascending","sort","a","b","name","first","last","descending","then","res","data","catch","err","filteredList","filter","item","values","toLowerCase","indexOf"],"mappings":"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","sourcesContent":["/* eslint-disable no-undef */\r\nimport React, { Component } from \"react\";\r\nimport Title from \"../Title\"\r\nimport SearchBar from \"../SearchBar\"\r\nimport ResultsTable from \"../ResultsTable\"\r\nimport API from \"../../utils/API\"\r\n\r\nclass MainPage extends Component {\r\n    state = {\r\n        search: \"\",\r\n        results: [],\r\n        sorted: true\r\n    }\r\n\r\n\r\n    componentDidMount() {\r\n        API.search()\r\n            .then(res => this.setState({ results: res.data.results }))\r\n            .catch(err => console.log(err))\r\n    }\r\n\r\n    handleInput = (e) => {\r\n        this.setState({ search: e.target.value })\r\n        console.log(this.state.results)\r\n    }\r\n\r\n    handleSort = () => {\r\n        if (this.state.sorted === true) {\r\n            this.setState({ sorted: false })\r\n            const ascending = this.state.results.sort((a, b) => (a.name.first + a.name.last > b.name.first + b.name.last) ? 1 : -1)\r\n            this.setState({ results: ascending })\r\n\r\n        } else {\r\n            this.setState({ sorted: true })\r\n            const descending = this.state.results.sort((a, b) => (a.name.first + a.name.last > b.name.first + b.name.last) ? -1 : 1)\r\n            this.setState({ results: descending })\r\n\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n    render() {\r\n        const filteredList = this.state.results.filter((item) => {\r\n            let values = item.name.first + item.name.last;\r\n            values = values.toLowerCase();\r\n            return values.indexOf(this.state.search.toLowerCase()) !== -1\r\n        })\r\n        return (\r\n            <div>\r\n                <Title />\r\n                <SearchBar handleInput={this.handleInput} />\r\n                <ResultsTable results={filteredList} sorted={this.state.sorted} handleSort={this.handleSort} />\r\n            </div>\r\n        )\r\n\r\n    }\r\n}\r\nexport default MainPage;"]},"metadata":{},"sourceType":"module"}